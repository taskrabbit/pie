<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Jasmine Spec Runner v2.0.2</title>

    <link rel="shortcut icon" type="image/png" href="vendor/jasmine-2.0.2/jasmine_favicon.png">
    <link rel="stylesheet" type="text/css" href="vendor/jasmine-2.0.2/jasmine.css">

    <script type="text/javascript" src="vendor/jasmine-2.0.2/jasmine.js"></script>
    <script type="text/javascript" src="vendor/jasmine-2.0.2/jasmine-html.js"></script>
    <script type="text/javascript" src="vendor/jasmine-2.0.2/boot.js"></script>
    <script type="text/javascript" src="vendor/jasmine-2.0.2/mock-ajax.js"></script>

    <!-- include source files here... -->
    <script type="text/javascript" src="vendor/sudo.js"></script>
    <script type="text/javascript" src="vendor/cash.js"></script>
    <script type="text/javascript" src="build/pie.js"></script>

    <script type="text/pie-template" id="alert">
      <div class="pie-alert pie-alert-[%= data.type %]">
        <ul>
          [% data.messages.forEach(function(m){ %]
            <li>[%- m %]</li>
          [% }); %]
        </ul>
      </div>
    </script>

    <script type="text/pie-template" id="list">
      <input name="foo" />
      <ul>
        [% data.items.forEach(function(item){ %]
          <li>[%- item.name %]</li>
        [% }); %]
      </ul>
    </script>

    <script type="text/javascript">
      window.app = new pie.app({
        'uiTarget' : '#main',
        'notificationUiTarget' : '#notifications'
      });

      app.i18n.load({
        "app" : {
          "errors" : {
            "401" : "Sorry, you aren't authorized to view this page."
          },
          "validations" : {

            "cc" : "does not look like a credit card number",
            "chosen" : "must be chosen",
            "cvv" : "is not a valid security code",
            "date" : "is not a valid date",
            "email" : "must be a valid email",
            "format" : "is invalid",
            "integer" : "must be an integer",
            "length" : "length must be",
            "number" : "must be a number",
            "phone" : "is not a valid phone number",
            "presence" : "can't be blank",
            "url" : "must be a valid url",

            "range_messages" : {
              "eq" : "equal to %{count}",
              "lt" : "less than %{count}",
              "gt" : "greater than %{count}",
              "lte" : "less than or equal to %{count}",
              "gte" : "greater than or equal to %{count}"
            }
          }
        }
      })

      app.router.route({
        '/pie/a' : {view: 'listView', name: 'list'},
        '/pie/b' : {},
        '/pie/:id/show' : { view: 'listView', name: 'show' },

        'listApi' : '/api/pie/list.json'
      });

      lib = { views: {} };

      lib.views.listView = function listView(app) {
        this.model = this.items = new pie.model({items: [{name: 'a'}, {name: 'b'}, {name: 'c'}]});

        pie.simpleView.call(this, app, {
          template: 'list'
        });
      };

      lib.views.listView.prototype = Object.create(pie.simpleView.prototype);
      pie.object.extend(lib.views.listView.prototype, pie.mixins.bindings);

      lib.views.listView.prototype.addedToParent = function() {
        this._super('addedToParent');
        this.bind({attr: 'foo'});
      }

    </script>



    <!-- include spec files here... -->
    <script type="text/javascript" src="spec/SpecHelper.js"></script>
    <script type="text/javascript" src="spec/modelSpec.js"></script>
    <script type="text/javascript" src="spec/listSpec.js"></script>
    <script type="text/javascript" src="spec/extensions/arraySpec.js"></script>
    <script type="text/javascript" src="spec/extensions/dateSpec.js"></script>
    <script type="text/javascript" src="spec/extensions/domSpec.js"></script>
    <script type="text/javascript" src="spec/extensions/functionSpec.js"></script>
    <script type="text/javascript" src="spec/extensions/objectSpec.js"></script>
    <script type="text/javascript" src="spec/extensions/serializationSpec.js"></script>
    <script type="text/javascript" src="spec/extensions/stringSpec.js"></script>
    <script type="text/javascript" src="spec/services/ajaxSpec.js"></script>
    <script type="text/javascript" src="spec/services/errorHandlerSpec.js"></script>
    <script type="text/javascript" src="spec/services/i18nSpec.js"></script>
    <script type="text/javascript" src="spec/services/notifierSpec.js"></script>
    <script type="text/javascript" src="spec/services/routerSpec.js"></script>
    <script type="text/javascript" src="spec/validatorSpec.js"></script>
    <script type="text/javascript" src="spec/viewSpec.js"></script>
    <script type="text/javascript" src="spec/bindingsSpec.js"></script>

  </head>

  <body>
    <div id="notifications"></div>
    <div id="main"></div>
  </body>
</html>
